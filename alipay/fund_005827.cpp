#include "../conf/alipay.h"

/*
 * 基金名称：易方达蓝筹精选混合 
 * 基金代码：005827
 * 购买渠道：支付宝
 * 用途：长期
*/

const std::string fund_name = "易方达蓝筹精选混合";
const std::string fund_code = "005827";

const int total = 1;
// 次数,日期,金额,净值,第几次购买净值与目前购买净值对比(写0即可,代码计算)
Fund fund_array[total] = {
    /*{"01", "2021-01-28",  500, 3.1174 },
    {"02", "2021-02-22",  300, 3.3015 },
    {"03", "2021-03-01",  300, 3.0655 },
    {"04", "2021-03-02",  200, 3.0117 },
    {"05", "2021-03-08",  100, 2.7872 },

    {"06", "2021-03-15",  100, 2.8028 },
    {"07", "2021-03-19",  100, 2.8520 },
    {"08", "2021-03-23",  100, 2.8318 },
    {"09", "2021-03-24",  100, 2.7775 },
    {"10", "2021-04-09",  100, 2.8442 },

    {"11", "2021-04-12",  100, 2.8004 },
    {"12", "2021-05-10",  100, 2.8161 },
    {"13", "2021-05-13",  100, 2.8333 },
    {"14", "2021-06-08",  100, 3.0490 },
    {"15", "2021-06-15",  100, 3.0088 },

    {"16", "2021-06-16",  200, 2.9664 },
    {"17", "2021-06-17",  100, 2.9786 },
    {"18", "2021-06-18",  100, 2.9668 },
    {"19", "2021-06-21",  100, 2.9584 },
    {"20", "2021-06-23",  200, 2.9518 },

    {"21", "2021-07-05",  300, 2.8928 },
    {"22", "2021-07-09",  200, 2.8256 },
    {"23", "2021-07-26",  300, 2.6810 },
    {"24", "2021-07-27",  300, 2.5192 },
    {"25", "2021-07-28",  100, 2.5497 },

    {"26", "2021-07-29",  300, 2.5735 },
    {"27", "2021-07-30",  200, 2.4967 },
    {"28", "2021-08-12",  200, 2.5897 },
    {"29", "2021-08-20",  100, 2.4039 },
    {"30", "2021-09-14",  100, 2.5284 },

    {"31", "2021-09-15",  100, 2.4799 },
    {"32", "2021-10-18",  100, 2.6209 },
    {"33", "2021-10-27",  100, 2.6391 },
    {"34", "2021-11-02",  100, 2.5834 },
    {"35", "2021-11-03",  100, 2.5625 },*/

    {"36", "2021-11-10",  100, 2.5657 },
    
};


// 卖出数据结构
const int total_sell = 8;
// 次数,买入时间,买入金额,买入净值,卖出时间,卖出净值
FundSell fund_sell_array[total_sell] = {
    {"01", "2022-03-15",  500, 1.9552, "2022-03-30", 2.1340 },
    {"02", "2022-04-25",  500, 2.0140, "2022-08-22", 2.1473 },
    {"03", "2022-05-19", 1000, 2.0712, "2022-08-25", 2.1690 },
    {"04", "2022-10-26", 2000, 1.7227, "2022-11-14", 1.9056 },
    {"05", "2022-10-19", 1000, 1.8772, "2023-01-06", 2.2588 },
    // 2023
    {"06", "2022-03-28",  500, 2.0716, "2023-01-16", 2.3495 },
    {"07", "2022-05-06",  500, 2.0776, "2023-01-16", 2.3495 },
    {"08", "2022-08-24", 1000, 2.1066, "2023-01-18", 2.3318 },

};


int main() {
  cout << "\n" << fund_name << "\n";
  unordered_map<std::string, std::pair<std::string, double> > fund_info = get_fund_info();
  if (fund_info.find(fund_code) == fund_info.end()) {
    return 0;
  }
  std::pair<std::string, double> tmp = fund_info[fund_code];
  std::string current_date = tmp.first;
  double current_jingzhi = tmp.second;
  buy_function(fund_array, total, current_jingzhi, current_date);
  
  // 卖出函数
  if (detail_switch) {
    sell_function(fund_sell_array, total_sell);
  }

}